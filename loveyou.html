!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Love Story</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 50%, #fd79a8 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 60px 0;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin-bottom: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            animation: fadeInUp 1s ease-out;
        }

        h1 {
            font-size: 3.5em;
            color: white;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            font-size: 1.3em;
            color: rgba(255, 255, 255, 0.9);
            font-style: italic;
        }

        .heart {
            font-size: 2em;
            color: #ff9ff3;
            margin: 0 20px;
            animation: pulse 2s infinite;
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            margin: 30px 0;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: translateY(30px);
            animation: slideInUp 0.8s ease-out forwards;
        }

        .section:nth-child(2) { animation-delay: 0.2s; }
        .section:nth-child(3) { animation-delay: 0.4s; }
        .section:nth-child(4) { animation-delay: 0.6s; }
        .section:nth-child(5) { animation-delay: 0.8s; }

        .section h2 {
            color: #a29bfe;
            font-size: 2.2em;
            margin-bottom: 20px;
            text-align: center;
            position: relative;
        }

        .section h2:after {
            content: '';
            display: block;
            width: 80px;
            height: 3px;
            background: linear-gradient(to right, #ff9ff3, #fdcb6e);
            margin: 15px auto;
            border-radius: 2px;
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            background: #f8f9fa;
            padding: 25px;
            margin: 20px 0;
            border-radius: 10px;
            border-left: 4px solid #ff9ff3;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .timeline-item:hover {
            transform: translateX(10px);
            box-shadow: 0 5px 20px rgba(255, 159, 243, 0.3);
        }

        .timeline-date {
            font-weight: bold;
            color: #a29bfe;
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .photo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .photo-placeholder {
            aspect-ratio: 1;
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9em;
            color: #666;
            text-align: center;
            padding: 20px;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .photo-placeholder:hover {
            transform: scale(1.05);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-item {
            background: linear-gradient(135deg, #fab1a0, #fd79a8);
            color: white;
            padding: 30px 20px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-item:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            display: block;
            margin-bottom: 10px;
        }

        .quotes {
            background: linear-gradient(135deg, #fdcb6e, #ffeaa7);
            padding: 40px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
        }

        .quote {
            font-size: 1.3em;
            font-style: italic;
            color: #444;
            margin-bottom: 15px;
        }

        .quote-author {
            color: #666;
            font-size: 0.9em;
        }

        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .floating-heart {
            position: absolute;
            color: rgba(255, 159, 243, 0.4);
            font-size: 20px;
            animation: float 8s infinite ease-in-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(5deg); }
            50% { transform: translateY(-10px) rotate(-5deg); }
            75% { transform: translateY(-30px) rotate(3deg); }
        }

        .footer {
            text-align: center;
            padding: 40px 0;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9em;
        }

        /* Upload Area Styles */
        .upload-area {
            border: 3px dashed #ff9ff3;
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            background: rgba(255, 159, 243, 0.05);
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .upload-area.dragover {
            border-color: #fd79a8;
            background: rgba(253, 121, 168, 0.1);
            transform: scale(1.02);
        }

        .upload-content {
            margin-bottom: 20px;
        }

        .upload-icon {
            font-size: 3em;
            color: #ff9ff3;
            margin-bottom: 15px;
        }

        .upload-text {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 10px;
        }

        .upload-hint {
            color: #999;
            font-size: 0.9em;
        }

        .upload-btn, .upload-toggle-btn {
            background: linear-gradient(135deg, #ff9ff3, #fd79a8);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 159, 243, 0.3);
        }

        .upload-btn:hover, .upload-toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 159, 243, 0.4);
        }

        .upload-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .uploaded-photo {
            aspect-ratio: 1;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .uploaded-photo:hover {
            transform: scale(1.05);
        }

        .uploaded-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .photo-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
            padding: 10px;
            font-size: 0.8em;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .uploaded-photo:hover .photo-overlay {
            opacity: 1;
        }

        .delete-photo {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(231, 76, 60, 0.8);
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .uploaded-photo:hover .delete-photo {
            opacity: 1;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #ff9ff3;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .message {
            padding: 10px 15px;
            border-radius: 8px;
            margin: 10px 0;
            text-align: center;
            animation: slideInDown 0.5s ease;
        }

        .message.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .message.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* Restaurant Review Styles */
        .restaurant-reviews {
            margin-top: 20px;
        }

        .add-review-btn {
            background: linear-gradient(135deg, #ff9ff3, #fd79a8);
            color: white;
            padding: 15px 25px;
            border-radius: 25px;
            text-align: center;
            cursor: pointer;
            margin-bottom: 30px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 159, 243, 0.3);
        }

        .add-review-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 159, 243, 0.4);
        }

        .review-form {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px solid #ff9ff3;
        }

        .review-form.hidden {
            display: none;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #ff9ff3;
        }

        .form-group textarea {
            height: 100px;
            resize: vertical;
        }

        .star-rating {
            display: flex;
            gap: 5px;
        }

        .star {
            font-size: 24px;
            color: #ddd;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .star:hover,
        .star.active {
            color: #ffd700;
        }

        .form-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }

        .save-btn, .cancel-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .save-btn {
            background: linear-gradient(135deg, #ff9ff3, #fd79a8);
            color: white;
        }

        .cancel-btn {
            background: #e0e0e0;
            color: #666;
        }

        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 159, 243, 0.3);
        }

        .cancel-btn:hover {
            background: #d0d0d0;
        }

        .reviews-container {
            display: grid;
            gap: 25px;
        }

        .review-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .review-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .review-header h4 {
            color: #a29bfe;
            font-size: 1.4em;
            margin: 0;
        }

        .review-rating {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stars {
            color: #ffd700;
            font-size: 1.2em;
        }

        .rating-text {
            color: #666;
            font-weight: bold;
        }

        .review-meta {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .cuisine-tag {
            background: linear-gradient(135deg, #ff9ff3, #fd79a8);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
        }

        .date {
            color: #666;
            font-style: italic;
        }

        .favorite-dishes {
            margin-bottom: 15px;
        }

        .dish {
            margin-bottom: 8px;
            color: #444;
        }

        .review-text {
            color: #333;
            line-height: 1.6;
            font-style: italic;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.5em; }
            .section { padding: 25px; }
            .stats { grid-template-columns: repeat(2, 1fr); }
            .upload-area { padding: 20px 10px; }
            .review-header { flex-direction: column; align-items: flex-start; gap: 10px; }
            .form-actions { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="floating-hearts">
        <div class="floating-heart" style="left: 10%; animation-delay: 0s;">â™¥</div>
        <div class="floating-heart" style="left: 20%; animation-delay: 1s;">â™¥</div>
        <div class="floating-heart" style="left: 30%; animation-delay: 2s;">â™¥</div>
        <div class="floating-heart" style="left: 40%; animation-delay: 3s;">â™¥</div>
        <div class="floating-heart" style="left: 50%; animation-delay: 4s;">â™¥</div>
        <div class="floating-heart" style="left: 60%; animation-delay: 5s;">â™¥</div>
        <div class="floating-heart" style="left: 70%; animation-delay: 6s;">â™¥</div>
        <div class="floating-heart" style="left: 80%; animation-delay: 7s;">â™¥</div>
        <div class="floating-heart" style="left: 90%; animation-delay: 8s;">â™¥</div>
    </div>

    <div class="container">
        <header>
            <h1>Johanna <span class="heart">â™¥</span> Joseph</h1>
            <p class="subtitle">Our Beautiful Love Story</p>
        </header>

        <div class="section">
            <h2>How We Met</h2>
            <p>It was a sunny summer day of 2023 - we were both scrolling on the Bumble dating app. We saw our cute profiles and instantly matched. I (Johanna) sent the first message as the rule goes "Hii Joseph" and the rest is history. This led to our first very magical first date at the Board n' Brew University City cafe.</p>
        </div>

        <div class="section">
            <h2>Our Journey Together</h2>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-date">June 29, 2023</div>
                    <div>Our first date at The Board and Brew from at 5:30. We had nice sandwiches and tea with interesting names. I fell in love with your hazel eyes with a hint of green.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">October 28, 2023</div>
                    <div>Our first Halloween together. We were giving Peaky Blinders ... gangster and flapper girl <3</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">February 2024</div>
                    <div>Our first Valentines Day together. You took me to the Museum of Illusions which was very fun. You also got me candy from the Quorum center (shhhhh). I made you paper flowers. We learned the importance of understanding <3</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">June 13, 2024</div>
                    <div>You graduated college and made me very proud! I was so happy and proud seeing you walk the graduating stage. You can accomplish any goal you set and I'll be here supporting you along the way.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">December 5, 2024</div>
                    <div>Our return to The Board and Brew during a cold and frosty night. We played Azul and "The Game" -- very fun with you like always. First date sandwiches discontinued but still got nice latte and sandwich.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">December 20, 2024</div>
                    <div>We gift wrapped gifts for Christmas together <3. We've yet to spend a Christmas together, this year love <3 we'll reunite everyone. XMAS 2025</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">February 15, 2025</div>
                    <div>We went to King of Prussia mall together. We got yummy smoothies and walked around. I love walking by your side answering your curious questions.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">March 4, 2025</div>
                    <div>We went to the Flower Show for FREE. It was so amazing. I loved seeing all the beautiful flowers, but nothing more beautiful than our love.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">July 8, 2025</div>
                    <div>We ran in the rain at the Schuylkyll River trail. It was so amazing and liberating. You encouraged me to enjoy life as it comes. Then a beautiful rainbow appeared.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">July 11, 2025</div>
                    <div>Our 2nd year anniversary. In the honor of number 2 we recreated our second date. Bowling at the arcade + games and dinner at Devil's Alley. Thank you for making it so special and coaching me through bowling. I LOVE YOU. Happy 2 years. Cheers to more!</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Our Memories</h2>
            
            <!-- Loading Spinner -->
            <div id="gallery-loading" class="loading" style="display:none;">
                <div class="spinner"></div>
                <p>Loading photos...</p>
            </div>
            
            <!-- Photo Upload Area -->
            <div class="upload-area" id="upload-area" style="display: none;">
                <div class="upload-content" onclick="document.getElementById('file-input').click()">
                    <div class="upload-icon">ðŸ“¸</div>
                    <div class="upload-text">Drag & drop your photos here</div>
                    <div class="upload-hint">or click to browse files</div>
                    <input type="file" id="file-input" accept="image/*" multiple style="display: none;">
                </div>
                <button class="upload-btn" id="upload-btn" style="display: none;">Upload Photos</button>
            </div>
            
            <!-- Upload Toggle Button -->
            <div style="text-align: center; margin-bottom: 20px;">
                <button class="upload-toggle-btn" id="upload-toggle-btn" onclick="toggleUpload()">
                    ðŸ“¸ Add New Photos
                </button>
                <button class="upload-toggle-btn" onclick="loadPhotos()" style="margin-left: 10px; background: linear-gradient(135deg, #667eea, #764ba2);">
                    ðŸ”„ Refresh Photos
                </button>
            </div>
            
            <!-- Photo Grid -->
            <div class="photo-grid" id="photo-grid">
                <div class="photo-placeholder" onclick="toggleUpload()">
                    ðŸ“¸<br>
                    Our First Date<br>
                    <small>Click to add photo</small>
                </div>
                <div class="photo-placeholder" onclick="toggleUpload()">
                    ðŸ“¸<br>
                    Paris Trip<br>
                    <small>Click to add photo</small>
                </div>
                <div class="photo-placeholder" onclick="toggleUpload()">
                    ðŸ“¸<br>
                    Concert Night<br>
                    <small>Click to add photo</small>
                </div>
                <div class="photo-placeholder" onclick="toggleUpload()">
                    ðŸ“¸<br>
                    Cozy Evening<br>
                    <small>Click to add photo</small>
                </div>
                <div class="photo-placeholder" onclick="toggleUpload()">
                    ðŸ“¸<br>
                    Adventure Day<br>
                    <small>Click to add photo</small>
                </div>
                <div class="photo-placeholder" onclick="toggleUpload()">
                    ðŸ“¸<br>
                    Latest Selfie<br>
                    <small>Click to add photo</small>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Our Dining Adventures</h2>
            <div class="restaurant-reviews">
                <div class="add-review-btn" onclick="showAddReviewForm()">
                    <span>+ Add New Restaurant Review</span>
                </div>
                
                <div class="review-form hidden" id="reviewForm">
                    <h3>Add a New Restaurant Review</h3>
                    <div class="form-group">
                        <label for="restaurantName">Restaurant Name:</label>
                        <input type="text" id="restaurantName" placeholder="Enter restaurant name">
                    </div>
                    <div class="form-group">
                        <label for="visitDate">Date Visited:</label>
                        <input type="date" id="visitDate">
                    </div>
                    <div class="form-group">
                        <label for="cuisine">Cuisine Type:</label>
                        <input type="text" id="cuisine" placeholder="e.g., Italian, Asian, American">
                    </div>
                    <div class="form-group">
                        <label for="rating">Rating:</label>
                        <div class="star-rating" id="starRating">
                            <span class="star" data-rating="1">â˜…</span>
                            <span class="star" data-rating="2">â˜…</span>
                            <span class="star" data-rating="3">â˜…</span>
                            <span class="star" data-rating="4">â˜…</span>
                            <span class="star" data-rating="5">â˜…</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="johannaFavorite">Johanna's Favorite Dish:</label>
                        <input type="text" id="johannaFavorite" placeholder="What did Johanna love most?">
                    </div>
                    <div class="form-group">
                        <label for="josephFavorite">Joseph's Favorite Dish:</label>
                        <input type="text" id="josephFavorite" placeholder="What did Joseph love most?">
                    </div>
                    <div class="form-group">
                        <label for="reviewText">Our Experience:</label>
                        <textarea id="reviewText" placeholder="Tell us about your dining experience together..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" onclick="saveReview()" class="save-btn">Save Review</button>
                        <button type="button" onclick="hideAddReviewForm()" class="cancel-btn">Cancel</button>
                    </div>
                </div>

                <div class="reviews-container" id="reviewsContainer">
                    <!-- Sample reviews -->
                    <div class="review-card">
                        <div class="review-header">
                            <h4>The Board and Brew</h4>
                            <div class="review-rating">
                                <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                <span class="rating-text">5/5</span>
                            </div>
                        </div>
                        <div class="review-meta">
                            <span class="cuisine-tag">Cafe</span>
                            <span class="date">June 29, 2023</span>
                        </div>
                        <div class="favorite-dishes">
                            <div class="dish">
                                <strong>Johanna's Pick:</strong> Signature sandwich with interesting tea
                            </div>
                            <div class="dish">
                                <strong>Joseph's Pick:</strong> Board game special sandwich
                            </div>
                        </div>
                        <div class="review-text">
                            Our very first date! The atmosphere was perfect for getting to know each other. The sandwiches were delicious and the tea names were so creative. This place will always hold a special place in our hearts. â™¥
                        </div>
                    </div>

                    <div class="review-card">
                        <div class="review-header">
                            <h4>Devil's Alley</h4>
                            <div class="review-rating">
                                <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                                <span class="rating-text">4/5</span>
                            </div>
                        </div>
                        <div class="review-meta">
                            <span class="cuisine-tag">American</span>
                            <span class="date">July 11, 2025</span>
                        </div>
                        <div class="favorite-dishes">
                            <div class="dish">
                                <strong>Johanna's Pick:</strong> Chicken sandwich and nachos
                            </div>
                            <div class="dish">
                                <strong>Joseph's Pick:</strong> Signature burger
                            </div>
                        </div>
                        <div class="review-text">
                            Perfect for our 2nd anniversary dinner! The ambiance was romantic and the nachos were good. We loved celebrating our special day here after bowling. Great for reminiscing!
                        </div>
                    </div>

                    <div class="review-card">
                        <div class="review-header">
                            <h4>Capital One Cafe</h4>
                            <div class="review-rating">
                                <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                <span class="rating-text">5/5</span>
                            </div>
                        </div>
                        <div class="review-meta">
                            <span class="cuisine-tag">Coffee & Light Bites</span>
                            <span class="date">Regular visits</span>
                        </div>
                        <div class="favorite-dishes">
                            <div class="dish">
                                <strong>Johanna's Pick:</strong> Morning coffee made by Joseph
                            </div>
                            <div class="dish">
                                <strong>Joseph's Pick:</strong> Afternoon study snacks
                            </div>
                        </div>
                        <div class="review-text">
                            Our go-to spot for working together! Nothing beats sitting side by side, being productive while enjoying great coffee. It's become our little routine and we love the atmosphere for both work and quality time.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>By the Numbers</h2>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number">635</span>
                    Days Together
                </div>
                <div class="stat-item">
                    <span class="stat-number">50</span>
                    Date Nights
                </div>
                <div class="stat-item">
                    <span class="stat-number">17</span>
                    Adventures
                </div>
                <div class="stat-item">
                    <span class="stat-number">âˆž</span>
                    Memories Made
                </div>
            </div>
        </div>

        <div class="section">
            <div class="quotes">
                <div class="quote">"Love is patient, love is kind. It does not envy, it does not boast, it is not proud. It does not dishonor others, it is not self-seeking, it is not easily angered, it keeps no record of wrongs. Love does not delight in evil but rejoices with the truth. It always protects, always trusts, always hopes, always perseveres. Love never fails."</div>
                <div class="quote-author">â€“ 1 Corinthians 13:4-8<br>- Our love</div>
            </div>
        </div>

        <div class="section">
            <h2>What Makes Us Special</h2>
            <p>We laugh at each other's jokes, support each other's dreams, and find magic in the simple moments - like simply working side by side at Capital One Cafe. You make me coffee every morning, and I give you surprise hugs. We enjoy cooking dinner together and stay up too late watching Better Call Saul. Our love is built on loyalty, support, friendship, trust, and romance.</p>
            
            <p>Together, we've created a world that's uniquely ours - filled with shared dreams, laughter, and the kind of love that makes me grateful. Here's to many more chapters in our beautiful story.</p>
        </div>

        <div class="footer">
            <p>Made with â™¥ for the love of my life</p>
        </div>
    </div>

    <script>
        // Photo upload functionality
        let uploadedPhotos = [];
        
        // Initialize photo upload functionality
        function initPhotoUpload() {
            const uploadArea = document.getElementById('upload-area');
            const fileInput = document.getElementById('file-input');
            const uploadBtn = document.getElementById('upload-btn');
            
            // Drag and drop functionality
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, preventDefaults, false);
            });

            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }

            ['dragenter', 'dragover'].forEach(eventName => {
                uploadArea.addEventListener(eventName, highlight, false);
            });

            ['dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, unhighlight, false);
            });

            function highlight(e) {
                uploadArea.classList.add('dragover');
            }

            function unhighlight(e) {
                uploadArea.classList.remove('dragover');
            }

            uploadArea.addEventListener('drop', handleDrop, false);

            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                handleFiles(files);
            }

            // File input change
            fileInput.addEventListener('change', function() {
                handleFiles(this.files);
            });

            // Upload button click
            uploadBtn.addEventListener('click', uploadFiles);
        }

        function handleFiles(files) {
            console.log('Files selected:', files.length);
            const uploadBtn = document.getElementById('upload-btn');
            if (files.length > 0) {
                uploadBtn.style.display = 'inline-block';
                uploadBtn.disabled = false;
                console.log('Upload button shown');
            } else {
                uploadBtn.style.display = 'none';
                uploadBtn.disabled = true;
                console.log('Upload button hidden');
            }
        }

        function uploadFiles() {
            const fileInput = document.getElementById('file-input');
            const files = fileInput.files;
            
            console.log('Uploading files:', files.length);
            
            if (files.length === 0) {
                console.log('No files to upload');
                return;
            }

            const formData = new FormData();
            for (let i = 0; i < files.length; i++) {
                formData.append('file', files[i]);
                console.log('Added file:', files[i].name);
            }

            // Show loading with progress
            const uploadBtn = document.getElementById('upload-btn');
            const originalText = uploadBtn.textContent;
            uploadBtn.textContent = 'â³ Uploading...';
            uploadBtn.disabled = true;
            showMessage('Uploading photos...', 'info');

            fetch('/upload', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Upload failed: ' + response.status);
                }
                return response.json();
            })
            .then(data => {
                console.log('Upload response:', data);
                if (data.success) {
                    showMessage(data.message, 'success');
                    fileInput.value = '';
                    uploadBtn.style.display = 'none';
                    uploadBtn.textContent = originalText;
                    uploadBtn.disabled = false;
                    console.log('Upload successful, reloading photos...');
                    // Force reload photos immediately with cache busting
                    setTimeout(() => {
                        loadPhotos(); // Reload photos with a small delay
                    }, 200);
                    
                    // Also try a second reload after a longer delay to catch any late uploads
                    setTimeout(() => {
                        console.log('Second reload attempt...');
                        loadPhotos();
                    }, 1000);
                } else {
                    showMessage(data.message, 'error');
                    uploadBtn.textContent = originalText;
                    uploadBtn.disabled = false;
                }
            })
            .catch(error => {
                console.error('Upload error:', error);
                showMessage('Error uploading photos: ' + error.message, 'error');
                uploadBtn.textContent = originalText;
                uploadBtn.disabled = false;
            });
        }

        function loadPhotos() {
            const loadingDiv = document.getElementById('gallery-loading');
            if (loadingDiv) loadingDiv.style.display = 'block';
            const loadStart = Date.now();
            console.log('Loading photos...');
            // Add cache-busting parameter to prevent caching
            fetch('/photos?t=' + Date.now())
            .then(response => {
                if (!response.ok) {
                    throw new Error('Failed to load photos: ' + response.status);
                }
                return response.json();
            })
            .then(photos => {
                const elapsed = Date.now() - loadStart;
                const minDelay = 500;
                const finish = () => {
                    if (loadingDiv) loadingDiv.style.display = 'none';
                    console.log('Photos loaded:', photos.length);
                    console.log('Photo details:', photos);
                    uploadedPhotos = photos;
                    displayPhotos();
                };
                if (elapsed < minDelay) {
                    setTimeout(finish, minDelay - elapsed);
                } else {
                    finish();
                }
            })
            .catch(error => {
                if (loadingDiv) loadingDiv.style.display = 'none';
                console.error('Error loading photos:', error);
                showMessage('Error loading photos: ' + error.message, 'error');
            });
        }

        function displayPhotos() {
            console.log('Displaying photos:', uploadedPhotos.length);
            const photoGrid = document.getElementById('photo-grid');
            
            // Clear existing photos
            photoGrid.innerHTML = '';
            
            // Add uploaded photos
            uploadedPhotos.forEach(photo => {
                console.log('Creating photo element for:', photo.filename);
                const photoElement = createPhotoElement(photo);
                photoGrid.appendChild(photoElement);
            });
            
            // Add placeholder if no photos
            if (uploadedPhotos.length === 0) {
                console.log('No photos, adding placeholders');
                addPlaceholders();
            }
        }

        function createPhotoElement(photo) {
            const photoDiv = document.createElement('div');
            photoDiv.className = 'uploaded-photo';
            photoDiv.innerHTML = `
                <img src="${photo.url}" alt="Uploaded photo" loading="lazy">
                <div class="photo-overlay">
                    <div>${photo.upload_time}</div>
                </div>
                <button class="delete-photo" onclick="deletePhoto('${photo.filename}')" title="Delete photo">Ã—</button>
            `;
            
            // Add click to view full size
            photoDiv.addEventListener('click', function(e) {
                if (e.target.className !== 'delete-photo') {
                    window.open(photo.url, '_blank');
                }
            });
            
            return photoDiv;
        }

        function addPlaceholders() {
            const photoGrid = document.getElementById('photo-grid');
            const placeholders = [
                'Our First Date', 'Paris Trip', 'Concert Night',
                'Cozy Evening', 'Adventure Day', 'Latest Selfie'
            ];
            
            placeholders.forEach(text => {
                const placeholder = document.createElement('div');
                placeholder.className = 'photo-placeholder';
                placeholder.onclick = toggleUpload;
                placeholder.innerHTML = `
                    ðŸ“¸<br>
                    ${text}<br>
                    <small>Click to add photo</small>
                `;
                photoGrid.appendChild(placeholder);
            });
        }

        function deletePhoto(filename) {
            if (confirm('Are you sure you want to delete this photo?')) {
                fetch(`/delete/${filename}`)
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        showMessage(data.message, 'success');
                        loadPhotos(); // Reload photos
                    } else {
                        showMessage(data.message, 'error');
                    }
                })
                .catch(error => {
                    showMessage('Error deleting photo: ' + error.message, 'error');
                });
            }
        }

        function toggleUpload() {
            const uploadArea = document.getElementById('upload-area');
            const uploadToggleBtn = document.getElementById('upload-toggle-btn');
            
            if (uploadArea.style.display === 'none') {
                uploadArea.style.display = 'block';
                uploadToggleBtn.textContent = 'âŒ Cancel Upload';
            } else {
                uploadArea.style.display = 'none';
                uploadToggleBtn.textContent = 'ðŸ“¸ Add New Photos';
                // Reset file input
                document.getElementById('file-input').value = '';
                document.getElementById('upload-btn').style.display = 'none';
            }
        }

        function showMessage(message, type) {
            // Remove existing messages
            const existingMessages = document.querySelectorAll('.message');
            existingMessages.forEach(msg => msg.remove());
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            messageDiv.textContent = message;
            
            // Insert after the upload area
            const uploadArea = document.getElementById('upload-area');
            uploadArea.parentNode.insertBefore(messageDiv, uploadArea.nextSibling);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                messageDiv.remove();
            }, 5000);
        }
        
        function debugPhotos() {
            console.log('=== DEBUG INFO ===');
            console.log('Uploaded photos array:', uploadedPhotos);
            console.log('Photo grid element:', document.getElementById('photo-grid'));
            console.log('Current time:', new Date().toISOString());
            
            // Test the API directly
            fetch('/photos?t=' + Date.now())
            .then(response => response.json())
            .then(photos => {
                console.log('API returned photos:', photos);
                showMessage(`API shows ${photos.length} photos`, 'success');
            })
            .catch(error => {
                console.error('API error:', error);
                showMessage('API error: ' + error.message, 'error');
            });
        }

        // Add more floating hearts dynamically
        function createFloatingHeart() {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.innerHTML = 'â™¥';
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDelay = Math.random() * 8 + 's';
            heart.style.fontSize = (Math.random() * 10 + 15) + 'px';
            document.querySelector('.floating-hearts').appendChild(heart);

            // Remove heart after animation
            setTimeout(() => {
                heart.remove();
            }, 8000);
        }

        // Create new hearts periodically
        setInterval(createFloatingHeart, 2000);

        // Update stats dynamically
        function updateStats() {
            const startDate = new Date('2023-06-29');
            const today = new Date();
            const daysTogether = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
            
            const statElements = document.querySelectorAll('.stat-number');
            if (statElements.length > 0) {
                statElements[0].textContent = daysTogether;
            }
        }

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Page loaded, initializing...');
            initPhotoUpload();
            loadPhotos();
            updateStats();
        });
        
        // Restaurant Review Functions
        let selectedRating = 0;

        function showAddReviewForm() {
            document.getElementById('reviewForm').classList.remove('hidden');
            document.querySelector('.add-review-btn').style.display = 'none';
        }

        function hideAddReviewForm() {
            document.getElementById('reviewForm').classList.add('hidden');
            document.querySelector('.add-review-btn').style.display = 'block';
            resetForm();
        }

        function resetForm() {
            document.getElementById('restaurantName').value = '';
            document.getElementById('visitDate').value = '';
            document.getElementById('cuisine').value = '';
            document.getElementById('johannaFavorite').value = '';
            document.getElementById('josephFavorite').value = '';
            document.getElementById('reviewText').value = '';
            selectedRating = 0;
            updateStars();
        }

        function updateStars() {
            const stars = document.querySelectorAll('.star');
            stars.forEach((star, index) => {
                if (index < selectedRating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }

        function setRating(rating) {
            selectedRating = rating;
            updateStars();
        }

        function saveReview() {
            const restaurantName = document.getElementById('restaurantName').value;
            const visitDate = document.getElementById('visitDate').value;
            const cuisine = document.getElementById('cuisine').value;
            const johannaFavorite = document.getElementById('johannaFavorite').value;
            const josephFavorite = document.getElementById('josephFavorite').value;
            const reviewText = document.getElementById('reviewText').value;

            if (!restaurantName || !visitDate || selectedRating === 0) {
                alert('Please fill in all required fields (Restaurant Name, Date, and Rating)');
                return;
            }

            const reviewCard = createReviewCard({
                name: restaurantName,
                date: visitDate,
                cuisine: cuisine,
                rating: selectedRating,
                johannaFavorite: johannaFavorite,
                josephFavorite: josephFavorite,
                review: reviewText
            });

            document.getElementById('reviewsContainer').insertBefore(reviewCard, document.getElementById('reviewsContainer').firstChild);
            hideAddReviewForm();
        }

        function createReviewCard(review) {
            const card = document.createElement('div');
            card.className = 'review-card';
            
            const stars = 'â˜…'.repeat(review.rating) + 'â˜†'.repeat(5 - review.rating);
            
            card.innerHTML = `
                <div class="review-header">
                    <h4>${review.name}</h4>
                    <div class="review-rating">
                        <span class="stars">${stars}</span>
                        <span class="rating-text">${review.rating}/5</span>
                    </div>
                </div>
                <div class="review-meta">
                    <span class="cuisine-tag">${review.cuisine || 'Not specified'}</span>
                    <span class="date">${review.date}</span>
                </div>
                <div class="favorite-dishes">
                    <div class="dish">
                        <strong>Johanna's Pick:</strong> ${review.johannaFavorite || 'Not specified'}
                    </div>
                    <div class="dish">
                        <strong>Joseph's Pick:</strong> ${review.josephFavorite || 'Not specified'}
                    </div>
                </div>
                <div class="review-text">
                    ${review.review || 'No review text provided.'}
                </div>
            `;
            
            return card;
        }

        // Initialize star rating functionality
        document.addEventListener('DOMContentLoaded', function() {
            const stars = document.querySelectorAll('.star');
            stars.forEach(star => {
                star.addEventListener('click', function() {
                    const rating = parseInt(this.getAttribute('data-rating'));
                    setRating(rating);
                });
            });
        });

        // Also try loading photos immediately
        console.log('Script loaded, loading photos...');
        setTimeout(() => {
            if (typeof loadPhotos === 'function') {
                loadPhotos();
            }
        }, 1000);
    </script>
</body>
</html>